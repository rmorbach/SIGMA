!function(e,t){function n(t){e.extend(!0,yt,t)}function i(n,i,c){function d(e){K?(S(),C(),A(),b(e)):u()}function u(){Z=i.theme?"ui":"fc",n.addClass("fc"),i.isRTL?n.addClass("fc-rtl"):n.addClass("fc-ltr"),i.theme&&n.addClass("ui-widget"),K=e("<div class='fc-content' style='position:relative'/>").prependTo(n),G=new a(Y,i),Q=G.render(),Q&&n.prepend(Q),y(i.defaultView),e(window).resize(T),v()||h()}function h(){setTimeout(function(){!et.start&&v()&&b()},0)}function f(){e(window).unbind("resize",T),G.destroy(),K.remove(),n.removeClass("fc fc-rtl ui-widget")}function m(){return 0!==st.offsetWidth}function v(){return 0!==e("body")[0].offsetWidth}function y(t){if(!et||t!=et.name){dt++,M();var n,i=et;i?((i.beforeHide||R)(),H(K,K.height()),i.element.hide()):H(K,1),K.css("overflow","hidden"),et=lt[t],et?et.element.show():et=lt[t]=new _t[t](n=it=e("<div class='fc-view fc-view-"+t+"' style='position:absolute'/>").appendTo(K),Y),i&&G.deactivateButton(i.name),G.activateButton(t),b(),K.css("overflow",""),i&&H(K,1),n||(et.afterShow||R)(),dt--}}function b(e){if(m()){dt++,M(),nt===t&&S();var i=!1;!et.start||e||ut<et.start||ut>=et.end?(et.render(ut,e||0),k(!0),i=!0):et.sizeDirty?(et.clearEvents(),k(),i=!0):et.eventsDirty&&(et.clearEvents(),i=!0),et.sizeDirty=!1,et.eventsDirty=!1,$(i),tt=n.outerWidth(),G.updateTitle(et.title);var a=new Date;a>=et.start&&a<et.end?G.disableButton("today"):G.enableButton("today"),dt--,et.trigger("viewDisplay",st)}}function x(){C(),m()&&(S(),k(),M(),et.clearEvents(),et.renderEvents(pt),et.sizeDirty=!1)}function C(){e.each(lt,function(e,t){t.sizeDirty=!0})}function S(){nt=i.contentHeight?i.contentHeight:i.height?i.height-(Q?Q.height():0)-L(K):Math.round(K.width()/Math.max(i.aspectRatio,.5))}function k(e){dt++,et.setHeight(nt,e),it&&(it.css("position","relative"),it=null),et.setWidth(K.width(),e),dt--}function T(){if(!dt)if(et.start){var e=++ct;setTimeout(function(){e==ct&&!dt&&m()&&tt!=(tt=n.outerWidth())&&(dt++,x(),et.trigger("windowResize",st),dt--)},200)}else h()}function $(e){!i.lazyFetching||ot(et.visStart,et.visEnd)?E():e&&B()}function E(){rt(et.visStart,et.visEnd)}function I(e){pt=e,B()}function D(e){B(e)}function B(e){A(),m()&&(et.clearEvents(),et.renderEvents(pt,e),et.eventsDirty=!1)}function A(){e.each(lt,function(e,t){t.eventsDirty=!0})}function F(e,n,i){et.select(e,n,i===t?!0:i)}function M(){et&&et.unselect()}function N(){b(-1)}function j(){b(1)}function P(){r(ut,-1),b()}function O(){r(ut,1),b()}function z(){ut=new Date,b()}function q(e,t,n){e instanceof Date?ut=p(e):g(ut,e,t,n),b()}function W(e,n,i){e!==t&&r(ut,e),n!==t&&s(ut,n),i!==t&&l(ut,i),b()}function U(){return p(ut)}function X(){return et}function V(e,n){return n===t?i[e]:(("height"==e||"contentHeight"==e||"aspectRatio"==e)&&(i[e]=n,x()),void 0)}function J(e,t){return i[e]?i[e].apply(t||st,Array.prototype.slice.call(arguments,2)):void 0}var Y=this;Y.options=i,Y.render=d,Y.destroy=f,Y.refetchEvents=E,Y.reportEvents=I,Y.reportEventChange=D,Y.rerenderEvents=B,Y.changeView=y,Y.select=F,Y.unselect=M,Y.prev=N,Y.next=j,Y.prevYear=P,Y.nextYear=O,Y.today=z,Y.gotoDate=q,Y.incrementDate=W,Y.formatDate=function(e,t){return w(e,t,i)},Y.formatDates=function(e,t,n){return _(e,t,n,i)},Y.getDate=U,Y.getView=X,Y.option=V,Y.trigger=J,o.call(Y,i,c);var G,Q,K,Z,et,tt,nt,it,at,ot=Y.isFetchNeeded,rt=Y.fetchEvents,st=n[0],lt={},ct=0,dt=0,ut=new Date,pt=[];g(ut,i.year,i.month,i.date),i.droppable&&e(document).bind("dragstart",function(t,n){var a=t.target,o=e(a);if(!o.parents(".fc").length){var r=i.dropAccept;(e.isFunction(r)?r.call(a,o):o.is(r))&&(at=a,et.dragStart(at,t,n))}}).bind("dragstop",function(e,t){at&&(et.dragStop(at,e,t),at=null)})}function a(t,n){function i(){p=n.theme?"ui":"fc";var t=n.header;return t?h=e("<table class='fc-header' style='width:100%'/>").append(e("<tr/>").append(o("left")).append(o("center")).append(o("right"))):void 0}function a(){h.remove()}function o(i){var a=e("<td class='fc-header-"+i+"'/>"),o=n.header[i];return o&&e.each(o.split(" "),function(i){i>0&&a.append("<span class='fc-header-space'/>");var o;e.each(this.split(","),function(i,r){if("title"==r)a.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>"),o&&o.addClass(p+"-corner-right"),o=null;else{var s;if(t[r]?s=t[r]:_t[r]&&(s=function(){d.removeClass(p+"-state-hover"),t.changeView(r)}),s){var l=n.theme?U(n.buttonIcons,r):null,c=U(n.buttonText,r),d=e("<span class='fc-button fc-button-"+r+" "+p+"-state-default'>"+(l?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+l+"'/>"+"</span>":c)+"</span>").click(function(){d.hasClass(p+"-state-disabled")||s()}).mousedown(function(){d.not("."+p+"-state-active").not("."+p+"-state-disabled").addClass(p+"-state-down")}).mouseup(function(){d.removeClass(p+"-state-down")}).hover(function(){d.not("."+p+"-state-active").not("."+p+"-state-disabled").addClass(p+"-state-hover")},function(){d.removeClass(p+"-state-hover").removeClass(p+"-state-down")}).appendTo(a);J(d),o||d.addClass(p+"-corner-left"),o=d}}}),o&&o.addClass(p+"-corner-right")}),a}function r(e){h.find("h2").html(e)}function s(e){h.find("span.fc-button-"+e).addClass(p+"-state-active")}function l(e){h.find("span.fc-button-"+e).removeClass(p+"-state-active")}function c(e){h.find("span.fc-button-"+e).addClass(p+"-state-disabled")}function d(e){h.find("span.fc-button-"+e).removeClass(p+"-state-disabled")}var u=this;u.render=i,u.destroy=a,u.updateTitle=r,u.activateButton=s,u.deactivateButton=l,u.disableButton=c,u.enableButton=d;var p,h=e([])}function o(n,i){function a(e,t){return!S||S>e||t>k}function o(e,t){S=e,k=t,M=[];var n=++B,i=D.length;A=i;for(var a=0;i>a;a++)r(D[a],n)}function r(t,i){s(t,function(a){if(i==B){if(a){n.eventDataTransform&&(a=e.map(a,n.eventDataTransform)),t.eventDataTransform&&(a=e.map(a,t.eventDataTransform));for(var o=0;o<a.length;o++)a[o].source=t,b(a[o]);M=M.concat(a)}A--,A||E(M)}})}function s(t,i){var a,o,r=wt.sourceFetchers;for(a=0;a<r.length;a++){if(o=r[a](t,S,k,i),o===!0)return;if("object"==typeof o)return s(o,i),void 0}var l=t.events;if(l)e.isFunction(l)?(g(),l(p(S),p(k),function(e){i(e),y()})):e.isArray(l)?i(l):i();else{var c=t.url;if(c){var d=t.success,u=t.error,h=t.complete,f=e.extend({},t.data||{}),m=Z(t.startParam,n.startParam),v=Z(t.endParam,n.endParam);m&&(f[m]=Math.round(+S/1e3)),v&&(f[v]=Math.round(+k/1e3)),g(),e.ajax(e.extend({},xt,t,{data:f,success:function(t){t=t||[];var n=K(d,this,arguments);e.isArray(n)&&(t=n),i(t)},error:function(){K(u,this,arguments),i()},complete:function(){K(h,this,arguments),y()}}))}else i()}}function l(e){e=c(e),e&&(A++,r(e,B))}function c(t){return e.isFunction(t)||e.isArray(t)?t={events:t}:"string"==typeof t&&(t={url:t}),"object"==typeof t?(w(t),D.push(t),t):void 0}function d(t){D=e.grep(D,function(e){return!_(e,t)}),M=e.grep(M,function(e){return!_(e.source,t)}),E(M)}function u(e){var t,n,i=M.length,a=$().defaultEventEnd,o=e.start-e._start,r=e.end?e.end-(e._end||a(e)):0;for(t=0;i>t;t++)n=M[t],n._id==e._id&&n!=e&&(n.start=new Date(+n.start+o),n.end=e.end?n.end?new Date(+n.end+r):new Date(+a(n)+r):null,n.title=e.title,n.url=e.url,n.allDay=e.allDay,n.className=e.className,n.editable=e.editable,n.color=e.color,n.backgroudColor=e.backgroudColor,n.borderColor=e.borderColor,n.textColor=e.textColor,b(n));b(e),E(M)}function h(e,t){b(e),e.source||(t&&(I.events.push(e),e.source=I),M.push(e)),E(M)}function f(t){if(t){if(!e.isFunction(t)){var n=t+"";t=function(e){return e._id==n}}M=e.grep(M,t,!0);for(var i=0;i<D.length;i++)e.isArray(D[i].events)&&(D[i].events=e.grep(D[i].events,t,!0))}else{M=[];for(var i=0;i<D.length;i++)e.isArray(D[i].events)&&(D[i].events=[])}E(M)}function m(t){return e.isFunction(t)?e.grep(M,t):t?(t+="",e.grep(M,function(e){return e._id==t})):M}function g(){F++||T("loading",null,!0)}function y(){--F||T("loading",null,!1)}function b(e){var i=e.source||{},a=Z(i.ignoreTimezone,n.ignoreTimezone);e._id=e._id||(e.id===t?"_fc"+Ct++:e.id+""),e.date&&(e.start||(e.start=e.date),delete e.date),e._start=p(e.start=v(e.start,a)),e.end=v(e.end,a),e.end&&e.end<=e.start&&(e.end=null),e._end=e.end?p(e.end):null,e.allDay===t&&(e.allDay=Z(i.allDayDefault,n.allDayDefault)),e.className?"string"==typeof e.className&&(e.className=e.className.split(/\s+/)):e.className=[]}function w(e){e.className?"string"==typeof e.className&&(e.className=e.className.split(/\s+/)):e.className=[];for(var t=wt.sourceNormalizers,n=0;n<t.length;n++)t[n](e)}function _(e,t){return e&&t&&x(e)==x(t)}function x(e){return("object"==typeof e?e.events||e.url:"")||e}var C=this;C.isFetchNeeded=a,C.fetchEvents=o,C.addEventSource=l,C.removeEventSource=d,C.updateEvent=u,C.renderEvent=h,C.removeEvents=f,C.clientEvents=m,C.normalizeEvent=b;for(var S,k,T=C.trigger,$=C.getView,E=C.reportEvents,I={events:[]},D=[I],B=0,A=0,F=0,M=[],N=0;N<i.length;N++)c(i[N])}function r(e,t,n){return e.setFullYear(e.getFullYear()+t),n||u(e),e}function s(e,t,n){if(+e){var i=e.getMonth()+t,a=p(e);for(a.setDate(1),a.setMonth(i),e.setMonth(i),n||u(e);e.getMonth()!=a.getMonth();)e.setDate(e.getDate()+(a>e?1:-1))}return e}function l(e,t,n){if(+e){var i=e.getDate()+t,a=p(e);a.setHours(9),a.setDate(i),e.setDate(i),n||u(e),c(e,a)}return e}function c(e,t){if(+e)for(;e.getDate()!=t.getDate();)e.setTime(+e+(t>e?1:-1)*Tt)}function d(e,t){return e.setMinutes(e.getMinutes()+t),e}function u(e){return e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e}function p(e,t){return t?u(new Date(+e)):new Date(+e)}function h(){var e,t=0;do e=new Date(1970,t++,1);while(e.getHours());return e}function f(e,t,n){for(t=t||1;!e.getDay()||n&&1==e.getDay()||!n&&6==e.getDay();)l(e,t);return e}function m(e,t){return Math.round((p(e,!0)-p(t,!0))/kt)}function g(e,n,i,a){n!==t&&n!=e.getFullYear()&&(e.setDate(1),e.setMonth(0),e.setFullYear(n)),i!==t&&i!=e.getMonth()&&(e.setDate(1),e.setMonth(i)),a!==t&&e.setDate(a)}function v(e,n){return"object"==typeof e?e:"number"==typeof e?new Date(1e3*e):"string"==typeof e?e.match(/^\d+(\.\d+)?$/)?new Date(1e3*parseFloat(e)):(n===t&&(n=!0),y(e,n)||(e?new Date(e):null)):null}function y(e,t){var n=e.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!n)return null;var i=new Date(n[1],0,1);if(t||!n[13]){var a=new Date(n[1],0,1,9,0);n[3]&&(i.setMonth(n[3]-1),a.setMonth(n[3]-1)),n[5]&&(i.setDate(n[5]),a.setDate(n[5])),c(i,a),n[7]&&i.setHours(n[7]),n[8]&&i.setMinutes(n[8]),n[10]&&i.setSeconds(n[10]),n[12]&&i.setMilliseconds(1e3*Number("0."+n[12])),c(i,a)}else if(i.setUTCFullYear(n[1],n[3]?n[3]-1:0,n[5]||1),i.setUTCHours(n[7]||0,n[8]||0,n[10]||0,n[12]?1e3*Number("0."+n[12]):0),n[14]){var o=60*Number(n[16])+(n[18]?Number(n[18]):0);o*="-"==n[15]?1:-1,i=new Date(+i+1e3*60*o)}return i}function b(e){if("number"==typeof e)return 60*e;if("object"==typeof e)return 60*e.getHours()+e.getMinutes();var t=e.match(/(\d+)(?::(\d+))?\s*(\w+)?/);if(t){var n=parseInt(t[1],10);return t[3]&&(n%=12,"p"==t[3].toLowerCase().charAt(0)&&(n+=12)),60*n+(t[2]?parseInt(t[2],10):0)}}function w(e,t,n){return _(e,null,t,n)}function _(e,t,n,i){i=i||yt;var a,o,r,s,l=e,c=t,d=n.length,u="";for(a=0;d>a;a++)if(o=n.charAt(a),"'"==o){for(r=a+1;d>r;r++)if("'"==n.charAt(r)){l&&(u+=r==a+1?"'":n.substring(a+1,r),a=r);break}}else if("("==o){for(r=a+1;d>r;r++)if(")"==n.charAt(r)){var p=w(l,n.substring(a+1,r),i);parseInt(p.replace(/\D/,""),10)&&(u+=p),a=r;break}}else if("["==o){for(r=a+1;d>r;r++)if("]"==n.charAt(r)){var h=n.substring(a+1,r),p=w(l,h,i);p!=w(c,h,i)&&(u+=p),a=r;break}}else if("{"==o)l=t,c=e;else if("}"==o)l=e,c=t;else{for(r=d;r>a;r--)if(s=Et[n.substring(a,r)]){l&&(u+=s(l,i)),a=r-1;break}r==a&&l&&(u+=o)}return u}function x(e){var t,n=new Date(e.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),t=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((t-n)/864e5)/7)+1}function C(e){return e.end?S(e.end,e.allDay):l(p(e.start),1)}function S(e,t){return e=p(e),t||e.getHours()||e.getMinutes()?l(e,1):u(e)}function k(e,t){return 100*(t.msLength-e.msLength)+(e.event.start-t.event.start)}function T(e,t){return e.end>t.start&&e.start<t.end}function $(e,t,n,i){var a,o,r,s,l,c,d,u,h=[],f=e.length;for(a=0;f>a;a++)o=e[a],r=o.start,s=t[a],s>n&&i>r&&(n>r?(l=p(n),d=!1):(l=r,d=!0),s>i?(c=p(i),u=!1):(c=s,u=!0),h.push({event:o,start:l,end:c,isStart:d,isEnd:u,msLength:c-l}));return h.sort(k)}function E(e){var t,n,i,a,o,r=[],s=e.length;for(t=0;s>t;t++){for(n=e[t],i=0;;){if(a=!1,r[i])for(o=0;o<r[i].length;o++)if(T(r[i][o],n)){a=!0;break}if(!a)break;i++}r[i]?r[i].push(n):r[i]=[n]}return r}function I(n,i,a){n.unbind("mouseover").mouseover(function(n){for(var o,r,s,l=n.target;l!=this;)o=l,l=l.parentNode;(r=o._fci)!==t&&(o._fci=t,s=i[r],a(s.event,s.element,s),e(n.target).trigger(n)),n.stopPropagation()})}function D(t,n,i){for(var a,o=0;o<t.length;o++)a=e(t[o]),a.width(Math.max(0,n-A(a,i)))}function B(t,n,i){for(var a,o=0;o<t.length;o++)a=e(t[o]),a.height(Math.max(0,n-L(a,i)))}function A(e,t){return F(e)+N(e)+(t?M(e):0)}function F(t){return(parseFloat(e.css(t[0],"paddingLeft",!0))||0)+(parseFloat(e.css(t[0],"paddingRight",!0))||0)}function M(t){return(parseFloat(e.css(t[0],"marginLeft",!0))||0)+(parseFloat(e.css(t[0],"marginRight",!0))||0)}function N(t){return(parseFloat(e.css(t[0],"borderLeftWidth",!0))||0)+(parseFloat(e.css(t[0],"borderRightWidth",!0))||0)}function L(e,t){return j(e)+O(e)+(t?P(e):0)}function j(t){return(parseFloat(e.css(t[0],"paddingTop",!0))||0)+(parseFloat(e.css(t[0],"paddingBottom",!0))||0)}function P(t){return(parseFloat(e.css(t[0],"marginTop",!0))||0)+(parseFloat(e.css(t[0],"marginBottom",!0))||0)}function O(t){return(parseFloat(e.css(t[0],"borderTopWidth",!0))||0)+(parseFloat(e.css(t[0],"borderBottomWidth",!0))||0)}function H(e,t){t="number"==typeof t?t+"px":t,e.each(function(e,n){n.style.cssText+=";min-height:"+t+";_height:"+t})}function R(){}function z(e,t){return e-t}function q(e){return Math.max.apply(Math,e)}function W(e){return(10>e?"0":"")+e}function U(e,n){if(e[n]!==t)return e[n];for(var i,a=n.split(/(?=[A-Z])/),o=a.length-1;o>=0;o--)if(i=e[a[o].toLowerCase()],i!==t)return i;return e[""]}function X(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function V(e){return e.id+"/"+e.className+"/"+e.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/gi,"")}function J(e){e.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function Y(e){e.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function G(e,t){e.each(function(e,n){n.className=n.className.replace(/^fc-\w*/,"fc-"+St[t.getDay()])})}function Q(e,t){var n=e.source||{},i=e.color,a=n.color,o=t("eventColor"),r=e.backgroundColor||i||n.backgroundColor||a||t("eventBackgroundColor")||o,s=e.borderColor||i||n.borderColor||a||t("eventBorderColor")||o,l=e.textColor||n.textColor||t("eventTextColor"),c=[];return r&&c.push("background-color:"+r),s&&c.push("border-color:"+s),l&&c.push("color:"+l),c.join(";")}function K(t,n,i){if(e.isFunction(t)&&(t=[t]),t){var a,o;for(a=0;a<t.length;a++)o=t[a].apply(n,i)||o;return o}}function Z(){for(var e=0;e<arguments.length;e++)if(arguments[e]!==t)return arguments[e]}function et(e,t){function n(e,t){t&&(s(e,t),e.setDate(1));var n=p(e,!0);n.setDate(1);var c=s(p(n),1),d=p(n),u=p(c),h=a("firstDay"),m=a("weekends")?0:1;m&&(f(d),f(u,-1,!0)),l(d,-((d.getDay()-Math.max(h,m)+7)%7)),l(u,(7-u.getDay()+Math.max(h,m))%7);var g=Math.round((u-d)/(7*kt));"fixed"==a("weekMode")&&(l(u,7*(6-g)),g=6),i.title=r(n,a("titleFormat")),i.start=n,i.end=c,i.visStart=d,i.visEnd=u,o(g,m?5:7,!0)}var i=this;i.render=n,it.call(i,e,t,"month");var a=i.opt,o=i.renderBasic,r=t.formatDate}function tt(e,t){function n(e,t){t&&l(e,7*t);var n=l(p(e),-((e.getDay()-a("firstDay")+7)%7)),s=l(p(n),7),c=p(n),d=p(s),u=a("weekends");u||(f(c),f(d,-1,!0)),i.title=r(c,l(p(d),-1),a("titleFormat")),i.start=n,i.end=s,i.visStart=c,i.visEnd=d,o(1,u?7:5,!1)}var i=this;i.render=n,it.call(i,e,t,"basicWeek");var a=i.opt,o=i.renderBasic,r=t.formatDates}function nt(e,t){function n(e,t){t&&(l(e,t),a("weekends")||f(e,0>t?-1:1)),i.title=r(e,a("titleFormat")),i.start=i.visStart=p(e,!0),i.end=i.visEnd=l(p(i.start),1),o(1,1,!1)}var i=this;i.render=n,it.call(i,e,t,"basicDay");var a=i.opt,o=i.renderBasic,r=t.formatDate}function it(t,n,i){function a(e,t,n){nt=e,it=t,o();var i=!W;i?r():$t(),s(n)}function o(){lt=kt("isRTL"),lt?(ct=-1,ut=it-1):(ct=1,ut=0),gt=kt("firstDay"),yt=kt("weekends")?0:1,bt=kt("theme")?"ui":"fc",wt=kt("columnFormat"),_t=kt("weekNumbers"),xt=kt("weekNumberTitle"),Ct="iso"!=kt("weekNumberCalculation")?"w":"W"}function r(){Q=e("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(t)}function s(n){var i,a,o,r,s="",l=bt+"-widget-header",c=bt+"-widget-content",d=O.start.getMonth(),p=u(new Date);for(s+="<table class='fc-border-separate' style='width:100%' cellspacing='0'><thead><tr>",_t&&(s+="<th class='fc-week-number "+l+"'/>"),i=0;it>i;i++)o=B(0,i),s+="<th class='fc-day-header fc-"+St[o.getDay()]+" "+l+"'/>";for(s+="</tr></thead><tbody>",i=0;nt>i;i++){for(s+="<tr class='fc-week'>",_t&&(s+="<td class='fc-week-number "+c+"'>"+"<div/>"+"</td>"),a=0;it>a;a++)o=B(i,a),r=["fc-day","fc-"+St[o.getDay()],c],o.getMonth()!=d&&r.push("fc-other-month"),+o==+p&&(r.push("fc-today"),r.push(bt+"-state-highlight")),s+="<td class='"+r.join(" ")+"'"+" data-date='"+Bt(o,"yyyy-MM-dd")+"'"+">"+"<div>",n&&(s+="<div class='fc-day-number'>"+o.getDate()+"</div>"),s+="<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";s+="</tr>"}s+="</tbody></table>",j(),R&&R.remove(),R=e(s).appendTo(t),z=R.find("thead"),q=z.find(".fc-day-header"),W=R.find("tbody"),U=W.find("tr"),X=W.find(".fc-day"),V=U.find("td:first-child"),G=U.eq(0).find(".fc-day-content > div"),Y(z.add(z.find("tr"))),Y(U),U.eq(0).addClass("fc-first"),U.filter(":last").addClass("fc-last"),_t&&z.find(".fc-week-number").text(xt),q.each(function(t,n){var i=A(t);e(n).text(Bt(i,wt))}),_t&&W.find(".fc-week-number > div").each(function(t,n){var i=B(t,0);e(n).text(Bt(i,Ct))}),X.each(function(t,n){var i=A(t);Tt("dayRender",O,i,e(n))}),h(X)}function c(t){Z=t;var n,i,a,o=Z-z.height();"variable"==kt("weekMode")?n=i=Math.floor(o/(1==nt?2:6)):(n=Math.floor(o/nt),i=o-n*(nt-1)),V.each(function(t,o){nt>t&&(a=e(o),H(a.find("> div"),(t==nt-1?i:n)-L(a)))}),P()}function d(e){K=e,st.clear(),tt=0,_t&&(tt=z.find("th.fc-week-number").outerWidth()),et=Math.floor((K-tt)/it),D(q.slice(0,-1),et)}function h(e){e.click(f).mousedown(Dt)}function f(t){if(!kt("selectable")){var n=y(e(this).data("date"));Tt("dayClick",this,n,!0,t)}}function g(e,t,n){n&&ot.build();for(var i=p(O.visStart),a=l(p(i),it),o=0;nt>o;o++){var r=new Date(Math.max(i,e)),s=new Date(Math.min(a,t));if(s>r){var c,d;lt?(c=m(s,i)*ct+ut+1,d=m(r,i)*ct+ut+1):(c=m(r,i),d=m(s,i)),h(v(o,c,o,d-1))}l(i,7),l(a,7)}}function v(e,n,i,a){var o=ot.rect(e,n,i,a,t);return Et(o,t)}function b(e){return p(e)}function w(e,t){g(e,l(p(t),1),!0)}function _(){It()}function x(e,t,n){var i=E(e),a=X[i.row*it+i.col];Tt("dayClick",a,e,t,n)}function C(e,t){rt.start(function(e){It(),e&&v(e.row,e.col,e.row,e.col)},t)}function S(e,t,n){var i=rt.stop();if(It(),i){var a=I(i);Tt("drop",e,a,!0,t,n)}}function k(e){return p(e.start)}function T(e){return st.left(e)}function $(e){return st.right(e)}function E(e){return{row:Math.floor(m(e,O.visStart)/7),col:F(e.getDay())}}function I(e){return B(e.row,e.col)}function B(e,t){return l(p(O.visStart),7*e+t*ct+ut)}function A(e){return B(Math.floor(e/it),e%it)}function F(e){return(e-Math.max(gt,yt)+it)%it*ct+ut}function M(e){return U.eq(e)}function N(){var e=0;return _t&&(e+=tt),{left:e,right:K}}function j(){H(t,t.height())}function P(){H(t,1)}var O=this;O.renderBasic=a,O.setHeight=c,O.setWidth=d,O.renderDayOverlay=g,O.defaultSelectionEnd=b,O.renderSelection=w,O.clearSelection=_,O.reportDayClick=x,O.dragStart=C,O.dragStop=S,O.defaultEventEnd=k,O.getHoverListener=function(){return rt},O.colContentLeft=T,O.colContentRight=$,O.dayOfWeekCol=F,O.dateCell=E,O.cellDate=I,O.cellIsAllDay=function(){return!0},O.allDayRow=M,O.allDayBounds=N,O.getRowCnt=function(){return nt},O.getColCnt=function(){return it},O.getColWidth=function(){return et},O.getDaySegmentContainer=function(){return Q},dt.call(O,t,n,i),ht.call(O),pt.call(O),at.call(O);var R,z,q,W,U,X,V,G,Q,K,Z,et,tt,nt,it,ot,rt,st,lt,ct,ut,gt,yt,bt,wt,_t,xt,Ct,kt=O.opt,Tt=O.trigger,$t=O.clearEvents,Et=O.renderOverlay,It=O.clearOverlays,Dt=O.daySelectionMousedown,Bt=n.formatDate;J(t.addClass("fc-grid")),ot=new ft(function(t,n){var i,a,o;q.each(function(t,r){i=e(r),a=i.offset().left,t&&(o[1]=a),o=[a],n[t]=o}),o[1]=a+i.outerWidth(),U.each(function(n,r){nt>n&&(i=e(r),a=i.offset().top,n&&(o[1]=a),o=[a],t[n]=o)}),o[1]=a+i.outerHeight()}),rt=new mt(ot),st=new vt(function(e){return G.eq(e)})}function at(){function t(e,t){h(e),T(i(e),t),c("eventAfterAllRender")}function n(){f(),b().empty()}function i(t){var n,i,a,o,s,c,d=S(),u=k(),h=p(r.visStart),f=l(p(h),u),m=e.map(t,C),g=[];for(n=0;d>n;n++){for(i=E($(t,m,h,f)),a=0;a<i.length;a++)for(o=i[a],s=0;s<o.length;s++)c=o[s],c.row=n,c.level=a,g.push(c);l(h,7),l(f,7)}return g}function a(e,t,n){d(e)&&o(e,t),n.isEnd&&u(e)&&I(e,t,n),m(e,t)}function o(e,t){var n,i=w();t.draggable({zIndex:9,delay:50,opacity:s("dragOpacity"),revertDuration:s("dragRevertDuration"),start:function(a,o){c("eventDragStart",t,e,a,o),v(e,t),i.start(function(i,a,o,r){t.draggable("option","revert",!i||!o&&!r),x(),i?(n=7*o+r*(s("isRTL")?-1:1),_(l(p(e.start),n),l(C(e),n))):n=0},a,"drag")},stop:function(a,o){i.stop(),x(),c("eventDragStop",t,e,a,o),n?y(this,e,n,0,e.allDay,a,o):(t.css("filter",""),g(e,t))}})}var r=this;r.renderEvents=t,r.compileDaySegs=i,r.clearEvents=n,r.bindDaySeg=a,ut.call(r);var s=r.opt,c=r.trigger,d=r.isEventDraggable,u=r.isEventResizable,h=r.reportEvents,f=r.reportEventClear,m=r.eventElementHandlers,g=r.showEvents,v=r.hideEvents,y=r.eventDrop,b=r.getDaySegmentContainer,w=r.getHoverListener,_=r.renderDayOverlay,x=r.clearOverlays,S=r.getRowCnt,k=r.getColCnt,T=r.renderDaySegs,I=r.resizableDayEvent}function ot(e,t){function n(e,t){t&&l(e,7*t);var n=l(p(e),-((e.getDay()-a("firstDay")+7)%7)),s=l(p(n),7),c=p(n),d=p(s),u=a("weekends");u||(f(c),f(d,-1,!0)),i.title=r(c,l(p(d),-1),a("titleFormat")),i.start=n,i.end=s,i.visStart=c,i.visEnd=d,o(u?7:5)}var i=this;i.render=n,st.call(i,e,t,"agendaWeek");var a=i.opt,o=i.renderAgenda,r=t.formatDates}function rt(e,t){function n(e,t){t&&(l(e,t),a("weekends")||f(e,0>t?-1:1));var n=p(e,!0),s=l(p(n),1);i.title=r(e,a("titleFormat")),i.start=i.visStart=n,i.end=i.visEnd=s,o(1)}var i=this;i.render=n,st.call(i,e,t,"agendaDay");var a=i.opt,o=i.renderAgenda,r=t.formatDate}function st(n,i,a){function o(e){Lt=e,r(),et?nn():s(),c()}function r(){zt=en("theme")?"ui":"fc",Wt=en("weekends")?0:1,qt=en("firstDay"),(Ut=en("isRTL"))?(Xt=-1,Vt=Lt-1):(Xt=1,Vt=0),Jt=b(en("minTime")),Yt=b(en("maxTime")),Gt=en("columnFormat"),Qt=en("weekNumbers"),Kt=en("weekNumberTitle"),Zt="iso"!=en("weekNumberCalculation")?"w":"W",Ft=en("snapMinutes")||en("slotMinutes")}function s(){var t,i,a,o,r,s=zt+"-widget-header",l=zt+"-widget-content",c=0==en("slotMinutes")%15;for(t="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'><thead><tr>",t+=Qt?"<th class='fc-agenda-axis fc-week-number "+s+"'/>":"<th class='fc-agenda-axis "+s+"'>&nbsp;</th>",i=0;Lt>i;i++)t+="<th class='fc- fc-col"+i+" "+s+"'/>";for(t+="<th class='fc-agenda-gutter "+s+"'>&nbsp;</th>"+"</tr>"+"</thead>"+"<tbody>"+"<tr>"+"<th class='fc-agenda-axis "+s+"'>&nbsp;</th>",i=0;Lt>i;i++)t+="<td class='fc- fc-col"+i+" "+l+"'>"+"<div>"+"<div class='fc-day-content'>"+"<div style='position:relative'>&nbsp;</div>"+"</div>"+"</div>"+"</td>";for(t+="<td class='fc-agenda-gutter "+l+"'>&nbsp;</td>"+"</tr>"+"</tbody>"+"</table>",et=e(t).appendTo(n),tt=et.find("thead"),nt=tt.find("th").slice(1,-1),it=et.find("tbody"),at=it.find("td").slice(0,-1),ot=at.find("div.fc-day-content div"),rt=at.eq(0),st=rt.find("> div"),Y(tt.add(tt.find("tr"))),Y(it.add(it.find("tr"))),St=tt.find("th:first"),kt=et.find(".fc-agenda-gutter"),ct=e("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(n),en("allDaySlot")?(ut=e("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(ct),t="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+s+" fc-agenda-axis'>"+en("allDayText")+"</th>"+"<td>"+"<div class='fc-day-content'><div style='position:relative'/></div>"+"</td>"+"<th class='"+s+" fc-agenda-gutter'>&nbsp;</th>"+"</tr>"+"</table>",gt=e(t).appendTo(ct),yt=gt.find("tr"),_(yt.find("td")),St=St.add(gt.find("th:first")),kt=kt.add(gt.find("th.fc-agenda-gutter")),ct.append("<div class='fc-agenda-divider "+s+"'>"+"<div class='fc-agenda-divider-inner'/>"+"</div>")):ut=e([]),bt=e("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(ct),wt=e("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(bt),_t=e("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(wt),t="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>",a=h(),o=d(p(a),Yt),d(a,Jt),jt=0,i=0;o>a;i++)r=a.getMinutes(),t+="<tr class='fc-slot"+i+" "+(r?"fc-minor":"")+"'>"+"<th class='fc-agenda-axis "+s+"'>"+(c&&r?"&nbsp;":dn(a,en("axisFormat")))+"</th>"+"<td class='"+l+"'>"+"<div style='position:relative'>&nbsp;</div>"+"</td>"+"</tr>",d(a,en("slotMinutes")),jt++;t+="</tbody></table>",xt=e(t).appendTo(wt),Ct=xt.find("div:first"),x(xt.find("td")),St=St.add(xt.find("th:first"))}function c(){var e,t,n,i,a=u(new Date);if(Qt){var o=dn(F(0),Zt);Ut?o+=Kt:o=Kt+o,tt.find(".fc-week-number").text(o)}for(e=0;Lt>e;e++)i=F(e),t=nt.eq(e),t.html(dn(i,Gt)),n=at.eq(e),+i==+a?n.addClass(zt+"-state-highlight fc-today"):n.removeClass(zt+"-state-highlight fc-today"),G(t.add(n),i)}function f(e,n){e===t&&(e=Et),Et=e,un={};var i=it.position().top,a=bt.position().top,o=Math.min(e-i,xt.height()+a+1);st.height(o-L(rt)),ct.css("top",i),bt.height(o-a-1),At=Ct.height()+1,Mt=en("slotMinutes")/Ft,Nt=At/Mt,n&&v()}function g(t){$t=t,Ht.clear(),It=0,D(St.width("").each(function(t,n){It=Math.max(It,e(n).outerWidth())}),It);var n=bt[0].clientWidth;Bt=bt.width()-n,Bt?(D(kt,Bt),kt.show().prev().removeClass("fc-last")):kt.hide().prev().addClass("fc-last"),Dt=Math.floor((n-It)/Lt),D(nt.slice(0,-1),Dt)}function v(){function e(){bt.scrollTop(i)}var t=h(),n=p(t);n.setHours(en("firstHour"));var i=j(t,n)+1;e(),setTimeout(e,0)}function y(){Rt=bt.scrollTop()}function w(){bt.scrollTop(Rt)}function _(e){e.click(C).mousedown(ln)}function x(e){e.click(C).mousedown(X)}function C(e){if(!en("selectable")){var t=Math.min(Lt-1,Math.floor((e.pageX-et.offset().left-It)/Dt)),n=F(t),i=this.parentNode.className.match(/fc-slot(\d+)/);if(i){var a=parseInt(i[1])*en("slotMinutes"),o=Math.floor(a/60);n.setHours(o),n.setMinutes(a%60+Jt),tn("dayClick",at[t],n,!1,e)}else tn("dayClick",at[t],n,!0,e)}}function S(e,t,n){n&&Pt.build();var i,a,o=p(Z.visStart);Ut?(i=m(t,o)*Xt+Vt+1,a=m(e,o)*Xt+Vt+1):(i=m(e,o),a=m(t,o)),i=Math.max(0,i),a=Math.min(Lt,a),a>i&&_(k(0,i,0,a-1))}function k(e,t,n,i){var a=Pt.rect(e,t,n,i,ct);return an(a,ct)}function T(e,t){for(var n=p(Z.visStart),i=l(p(n),1),a=0;Lt>a;a++){var o=new Date(Math.max(n,e)),r=new Date(Math.min(i,t));if(r>o){var s=a*Xt+Vt,c=Pt.rect(0,s,0,s,wt),d=j(n,o),u=j(n,r);c.top=d,c.height=u-d,x(an(c,wt))}l(n,1),l(i,1)}}function $(e){return Ht.left(e)}function E(e){return Ht.right(e)}function I(e){return{row:Math.floor(m(e,Z.visStart)/7),col:N(e.getDay())}}function A(e){var t=F(e.col),n=e.row;return en("allDaySlot")&&n--,n>=0&&d(t,Jt+n*Ft),t}function F(e){return l(p(Z.visStart),e*Xt+Vt)}function M(e){return en("allDaySlot")&&!e.row}function N(e){return(e-Math.max(qt,Wt)+Lt)%Lt*Xt+Vt}function j(e,n){if(e=p(e,!0),n<d(p(e),Jt))return 0;if(n>=d(p(e),Yt))return xt.height();var i=en("slotMinutes"),a=60*n.getHours()+n.getMinutes()-Jt,o=Math.floor(a/i),r=un[o];return r===t&&(r=un[o]=xt.find("tr:eq("+o+") td div")[0].offsetTop),Math.max(0,Math.round(r-1+At*(a%i/i)))}function P(){return{left:It,right:$t-Bt}}function O(){return yt}function H(e){var t=p(e.start);return e.allDay?t:d(t,en("defaultEventMinutes"))}function R(e,t){return t?p(e):d(p(e),en("slotMinutes"))}function q(e,t,n){n?en("allDaySlot")&&S(e,l(p(t),1),!0):W(e,t)}function W(t,n){var i=en("selectHelper");if(Pt.build(),i){var a=m(t,Z.visStart)*Xt+Vt;if(a>=0&&Lt>a){var o=Pt.rect(0,a,0,a,wt),r=j(t,t),s=j(t,n);if(s>r){if(o.top=r,o.height=s-r,o.left+=2,o.width-=5,e.isFunction(i)){var l=i(t,n);l&&(o.position="absolute",o.zIndex=8,Tt=e(l).css(o).appendTo(wt))}else o.isStart=!0,o.isEnd=!0,Tt=e(cn({title:"",start:t,end:n,className:["fc-select-helper"],editable:!1},o)),Tt.css("opacity",en("dragOpacity"));Tt&&(x(Tt),wt.append(Tt),D(Tt,o.width,!0),B(Tt,o.height,!0))}}}else T(t,n)}function U(){on(),Tt&&(Tt.remove(),Tt=null)}function X(t){if(1==t.which&&en("selectable")){sn(t);var n;Ot.start(function(e,t){if(U(),e&&e.col==t.col&&!M(e)){var i=A(t),a=A(e);n=[i,d(p(i),Ft),a,d(p(a),Ft)].sort(z),W(n[0],n[3])}else n=null},t),e(document).one("mouseup",function(e){Ot.stop(),n&&(+n[0]==+n[1]&&V(n[0],!1,e),rn(n[0],n[3],!1,e))})}}function V(e,t,n){tn("dayClick",at[N(e.getDay())],e,t,n)}function Q(e,t){Ot.start(function(e){if(on(),e)if(M(e))k(e.row,e.col,e.row,e.col);else{var t=A(e),n=d(p(t),en("defaultEventMinutes"));T(t,n)}},t)}function K(e,t,n){var i=Ot.stop();on(),i&&tn("drop",e,A(i),M(i),t,n)}var Z=this;Z.renderAgenda=o,Z.setWidth=g,Z.setHeight=f,Z.beforeHide=y,Z.afterShow=w,Z.defaultEventEnd=H,Z.timePosition=j,Z.dayOfWeekCol=N,Z.dateCell=I,Z.cellDate=A,Z.cellIsAllDay=M,Z.allDayRow=O,Z.allDayBounds=P,Z.getHoverListener=function(){return Ot},Z.colContentLeft=$,Z.colContentRight=E,Z.getDaySegmentContainer=function(){return ut},Z.getSlotSegmentContainer=function(){return _t},Z.getMinMinute=function(){return Jt},Z.getMaxMinute=function(){return Yt},Z.getBodyContent=function(){return wt},Z.getRowCnt=function(){return 1},Z.getColCnt=function(){return Lt},Z.getColWidth=function(){return Dt},Z.getSnapHeight=function(){return Nt},Z.getSnapMinutes=function(){return Ft},Z.defaultSelectionEnd=R,Z.renderDayOverlay=S,Z.renderSelection=q,Z.clearSelection=U,Z.reportDayClick=V,Z.dragStart=Q,Z.dragStop=K,dt.call(Z,n,i,a),ht.call(Z),pt.call(Z),lt.call(Z);var et,tt,nt,it,at,ot,rt,st,ct,ut,gt,yt,bt,wt,_t,xt,Ct,St,kt,Tt,$t,Et,It,Dt,Bt,At,Ft,Mt,Nt,Lt,jt,Pt,Ot,Ht,Rt,zt,qt,Wt,Ut,Xt,Vt,Jt,Yt,Gt,Qt,Kt,Zt,en=Z.opt,tn=Z.trigger,nn=Z.clearEvents,an=Z.renderOverlay,on=Z.clearOverlays,rn=Z.reportSelection,sn=Z.unselect,ln=Z.daySelectionMousedown,cn=Z.slotSegHtml,dn=i.formatDate,un={};J(n.addClass("fc-agenda")),Pt=new ft(function(t,n){function i(e){return Math.max(l,Math.min(c,e))}var a,o,r;nt.each(function(t,i){a=e(i),o=a.offset().left,t&&(r[1]=o),r=[o],n[t]=r}),r[1]=o+a.outerWidth(),en("allDaySlot")&&(a=yt,o=a.offset().top,t[0]=[o,o+a.outerHeight()]);for(var s=wt.offset().top,l=bt.offset().top,c=l+bt.outerHeight(),d=0;jt*Mt>d;d++)t.push([i(s+Nt*d),i(s+Nt*(d+1))])}),Ot=new mt(Pt),Ht=new vt(function(e){return ot.eq(e)})}function lt(){function n(e,t){S(e);var n,i=e.length,r=[],l=[];for(n=0;i>n;n++)e[n].allDay?r.push(e[n]):l.push(e[n]);y("allDaySlot")&&(z(a(r),t),D()),s(o(l),t),b("eventAfterAllRender")}function i(){k(),F().empty(),M().empty()}function a(t){var n,i,a,o,r=E($(t,e.map(t,C),v.visStart,v.visEnd)),s=r.length,l=[];for(n=0;s>n;n++)for(i=r[n],a=0;a<i.length;a++)o=i[a],o.row=0,o.level=n,l.push(o);return l}function o(t){var n,i,a,o,s,c,u=W(),h=P(),f=j(),m=d(p(v.visStart),h),g=e.map(t,r),y=[];for(n=0;u>n;n++){for(i=E($(t,g,m,d(p(m),f-h))),ct(i),a=0;a<i.length;a++)for(o=i[a],s=0;s<o.length;s++)c=o[s],c.col=n,c.level=a,y.push(c);l(m,1,!0)}return y}function r(e){return e.end?p(e.end):d(p(e.start),y("defaultEventMinutes"))}function s(n,i){var a,o,r,s,l,d,u,p,f,m,g,v,w,_,x,C,S,k,T,$,E,D,B=n.length,F="",N={},j={},P=M(),z=W();for(($=y("isRTL"))?(E=-1,D=z-1):(E=1,D=0),a=0;B>a;a++)o=n[a],r=o.event,s=O(o.start,o.start),l=O(o.start,o.end),d=o.col,u=o.level,p=o.forward||0,f=H(d*E+D),m=R(d*E+D)-f,m=Math.min(m-6,.95*m),g=u?m/(u+p+1):p?2*(m/(p+1)-6):m,v=f+m/(u+p+1)*u*E+($?m-g:0),o.top=s,o.left=v,o.outerWidth=g,o.outerHeight=l-s,F+=c(r,o);
for(P[0].innerHTML=F,w=P.children(),a=0;B>a;a++)o=n[a],r=o.event,_=e(w[a]),x=b("eventRender",r,r,_),x===!1?_.remove():(x&&x!==!0&&(_.remove(),_=e(x).css({position:"absolute",top:o.top,left:o.left}).appendTo(P)),o.element=_,r._id===i?h(r,_,o):_[0]._fci=a,K(r,_));for(I(P,n,h),a=0;B>a;a++)o=n[a],(_=o.element)&&(S=N[C=o.key=V(_[0])],o.vsides=S===t?N[C]=L(_,!0):S,S=j[C],o.hsides=S===t?j[C]=A(_,!0):S,k=_.find(".fc-event-title"),k.length&&(o.contentTop=k[0].offsetTop));for(a=0;B>a;a++)o=n[a],(_=o.element)&&(_[0].style.width=Math.max(0,o.outerWidth-o.hsides)+"px",T=Math.max(0,o.outerHeight-o.vsides),_[0].style.height=T+"px",r=o.event,o.contentTop!==t&&T-o.contentTop<10&&(_.find("div.fc-event-time").text(rt(r.start,y("timeFormat"))+" - "+r.title),_.find("div.fc-event-title").remove()),b("eventAfterRender",r,r,_))}function c(e,t){var n="<",i=e.url,a=Q(e,y),o=["fc-event","fc-event-vert"];return w(e)&&o.push("fc-event-draggable"),t.isStart&&o.push("fc-event-start"),t.isEnd&&o.push("fc-event-end"),o=o.concat(e.className),e.source&&(o=o.concat(e.source.className||[])),n+=i?"a href='"+X(e.url)+"'":"div",n+=" class='"+o.join(" ")+"'"+" style='position:absolute;z-index:8;top:"+t.top+"px;left:"+t.left+"px;"+a+"'"+">"+"<div class='fc-event-inner'>"+"<div class='fc-event-time'>"+X(st(e.start,e.end,y("timeFormat")))+"</div>"+"<div class='fc-event-title'>"+X(e.title)+"</div>"+"</div>"+"<div class='fc-event-bg'></div>",t.isEnd&&_(e)&&(n+="<div class='ui-resizable-handle ui-resizable-s'>=</div>"),n+="</"+(i?"a":"div")+">"}function u(e,t,n){w(e)&&f(e,t,n.isStart),n.isEnd&&_(e)&&q(e,t,n),T(e,t)}function h(e,t,n){var i=t.find("div.fc-event-time");w(e)&&m(e,t,i),n.isEnd&&_(e)&&g(e,t,i),T(e,t)}function f(e,t,n){function i(){s||(t.width(a).height("").draggable("option","grid",null),s=!0)}var a,o,r,s=!0,c=y("isRTL")?-1:1,d=N(),u=U(),h=J(),f=Y(),m=P();t.draggable({zIndex:9,opacity:y("dragOpacity","month"),revertDuration:y("dragRevertDuration"),start:function(m,g){b("eventDragStart",t,e,m,g),et(e,t),a=t.width(),d.start(function(a,d,m,g){at(),a?(o=!1,r=g*c,a.row?n?s&&(t.width(u-10),B(t,h*Math.round((e.end?(e.end-e.start)/$t:y("defaultEventMinutes"))/f)),t.draggable("option","grid",[u,1]),s=!1):o=!0:(it(l(p(e.start),r),l(C(e),r)),i()),o=o||s&&!r):(i(),o=!0),t.draggable("option","revert",o)},m,"drag")},stop:function(n,a){if(d.stop(),at(),b("eventDragStop",t,e,n,a),o)i(),t.css("filter",""),Z(e,t);else{var l=0;s||(l=Math.round((t.offset().top-G().offset().top)/h)*f+m-(60*e.start.getHours()+e.start.getMinutes())),tt(this,e,r,l,s,n,a)}}})}function m(e,t,n){function i(t){var i,a=d(p(e.start),t);e.end&&(i=d(p(e.end),t)),n.text(st(a,i,y("timeFormat")))}function a(){u&&(n.css("display",""),t.draggable("option","grid",[g,v]),u=!1)}var o,r,s,c,u=!1,h=y("isRTL")?-1:1,f=N(),m=W(),g=U(),v=J(),w=Y();t.draggable({zIndex:9,scroll:!1,grid:[g,v],axis:1==m?"y":!1,opacity:y("dragOpacity"),revertDuration:y("dragRevertDuration"),start:function(i,d){b("eventDragStart",t,e,i,d),et(e,t),o=t.position(),s=c=0,f.start(function(i,o,s,c){t.draggable("option","revert",!i),at(),i&&(r=c*h,y("allDaySlot")&&!i.row?(u||(u=!0,n.hide(),t.draggable("option","grid",null)),it(l(p(e.start),r),l(C(e),r))):a())},i,"drag")},drag:function(e,t){s=Math.round((t.position.top-o.top)/v)*w,s!=c&&(u||i(s),c=s)},stop:function(n,l){var c=f.stop();at(),b("eventDragStop",t,e,n,l),c&&(r||s||u)?tt(this,e,r,u?0:s,u,n,l):(a(),t.css("filter",""),t.css(o),i(0),Z(e,t))}})}function g(e,t,n){var i,a,o=J(),r=Y();t.resizable({handles:{s:".ui-resizable-handle"},grid:o,start:function(n,o){i=a=0,et(e,t),t.css("z-index",9),b("eventResizeStart",this,e,n,o)},resize:function(s,l){i=Math.round((Math.max(o,t.height())-l.originalSize.height)/o),i!=a&&(n.text(st(e.start,i||e.end?d(x(e),r*i):null,y("timeFormat"))),a=i)},stop:function(n,a){b("eventResizeStop",this,e,n,a),i?nt(this,e,0,r*i,n,a):(t.css("z-index",8),Z(e,t))}})}var v=this;v.renderEvents=n,v.compileDaySegs=a,v.clearEvents=i,v.slotSegHtml=c,v.bindDaySeg=u,ut.call(v);var y=v.opt,b=v.trigger,w=v.isEventDraggable,_=v.isEventResizable,x=v.eventEnd,S=v.reportEvents,k=v.reportEventClear,T=v.eventElementHandlers,D=v.setHeight,F=v.getDaySegmentContainer,M=v.getSlotSegmentContainer,N=v.getHoverListener,j=v.getMaxMinute,P=v.getMinMinute,O=v.timePosition,H=v.colContentLeft,R=v.colContentRight,z=v.renderDaySegs,q=v.resizableDayEvent,W=v.getColCnt,U=v.getColWidth,J=v.getSnapHeight,Y=v.getSnapMinutes,G=v.getBodyContent,K=v.reportEventElement,Z=v.showEvents,et=v.hideEvents,tt=v.eventDrop,nt=v.eventResize,it=v.renderDayOverlay,at=v.clearOverlays,ot=v.calendar,rt=ot.formatDate,st=ot.formatDates}function ct(e){var t,n,i,a,o,r;for(t=e.length-1;t>0;t--)for(a=e[t],n=0;n<a.length;n++)for(o=a[n],i=0;i<e[t-1].length;i++)r=e[t-1][i],T(o,r)&&(r.forward=Math.max(r.forward||0,(o.forward||0)+1))}function dt(e,n,i){function a(e,t){var n=B[e];return"object"==typeof n?U(n,t||i):n}function o(e,t){return n.trigger.apply(n,[e,t||S].concat(Array.prototype.slice.call(arguments,2),[S]))}function r(e){return c(e)&&!a("disableDragging")}function s(e){return c(e)&&!a("disableResizing")}function c(e){return Z(e.editable,(e.source||{}).editable,a("editable"))}function u(e){E={};var t,n,i=e.length;for(t=0;i>t;t++)n=e[t],E[n._id]?E[n._id].push(n):E[n._id]=[n]}function h(e){return e.end?p(e.end):k(e)}function f(e,t){I.push(t),D[e._id]?D[e._id].push(t):D[e._id]=[t]}function m(){I=[],D={}}function g(e,t){t.click(function(n){return t.hasClass("ui-draggable-dragging")||t.hasClass("ui-resizable-resizing")?void 0:o("eventClick",this,e,n)}).hover(function(t){o("eventMouseover",this,e,t)},function(t){o("eventMouseout",this,e,t)})}function v(e,t){b(e,t,"show")}function y(e,t){b(e,t,"hide")}function b(e,t,n){var i,a=D[e._id],o=a.length;for(i=0;o>i;i++)t&&a[i][0]==t[0]||a[i][n]()}function w(e,t,n,i,a,r,s){var l=t.allDay,c=t._id;x(E[c],n,i,a),o("eventDrop",e,t,n,i,a,function(){x(E[c],-n,-i,l),$(c)},r,s),$(c)}function _(e,t,n,i,a,r){var s=t._id;C(E[s],n,i),o("eventResize",e,t,n,i,function(){C(E[s],-n,-i),$(s)},a,r),$(s)}function x(e,n,i,a){i=i||0;for(var o,r=e.length,s=0;r>s;s++)o=e[s],a!==t&&(o.allDay=a),d(l(o.start,n,!0),i),o.end&&(o.end=d(l(o.end,n,!0),i)),T(o,B)}function C(e,t,n){n=n||0;for(var i,a=e.length,o=0;a>o;o++)i=e[o],i.end=d(l(h(i),t,!0),n),T(i,B)}var S=this;S.element=e,S.calendar=n,S.name=i,S.opt=a,S.trigger=o,S.isEventDraggable=r,S.isEventResizable=s,S.reportEvents=u,S.eventEnd=h,S.reportEventElement=f,S.reportEventClear=m,S.eventElementHandlers=g,S.showEvents=v,S.hideEvents=y,S.eventDrop=w,S.eventResize=_;var k=S.defaultEventEnd,T=n.normalizeEvent,$=n.reportEventChange,E={},I=[],D={},B=n.options}function ut(){function n(e,t){var n,i,l,p,g,v,y,b,w=O(),_=$(),x=E(),C=0,S=e.length;for(w[0].innerHTML=a(e),o(e,w.children()),r(e),s(e,w,t),c(e),d(e),u(e),n=h(),i=0;_>i;i++){for(l=0,p=[],g=0;x>g;g++)p[g]=0;for(;S>C&&(v=e[C]).row==i;){for(y=q(p.slice(v.startCol,v.endCol)),v.top=y,y+=v.outerHeight,b=v.startCol;b<v.endCol;b++)p[b]=y;C++}n[i].height(q(p))}m(e,f(n))}function i(t,n,i){var r,s,l,p=e("<div/>"),g=O(),v=t.length;for(p[0].innerHTML=a(t),r=p.children(),g.append(r),o(t,r),c(t),d(t),u(t),m(t,f(h())),r=[],s=0;v>s;s++)l=t[s].element,l&&(t[s].row===n&&l.css("top",i),r.push(l[0]));return e(r)}function a(e){var t,n,i,a,o,r,s,l,c,d,u=y("isRTL"),p=e.length,h=B(),f=h.left,m=h.right,g="";for(t=0;p>t;t++)n=e[t],i=n.event,o=["fc-event","fc-event-hori"],w(i)&&o.push("fc-event-draggable"),n.isStart&&o.push("fc-event-start"),n.isEnd&&o.push("fc-event-end"),u?(r=N(n.end.getDay()-1),s=N(n.start.getDay()),l=n.isEnd?F(r):f,c=n.isStart?M(s):m):(r=N(n.start.getDay()),s=N(n.end.getDay()-1),l=n.isStart?F(r):f,c=n.isEnd?M(s):m),o=o.concat(i.className),i.source&&(o=o.concat(i.source.className||[])),a=i.url,d=Q(i,y),g+=a?"<a href='"+X(a)+"'":"<div",g+=" class='"+o.join(" ")+"'"+" style='position:absolute;z-index:8;left:"+l+"px;"+d+"'"+">"+"<div class='fc-event-inner'>",!i.allDay&&n.isStart&&(g+="<span class='fc-event-time'>"+X(R(i.start,i.end,y("timeFormat")))+"</span>"),g+="<span class='fc-event-title'>"+X(i.title)+"</span>"+"</div>",n.isEnd&&_(i)&&(g+="<div class='ui-resizable-handle ui-resizable-"+(u?"w":"e")+"'>"+"&nbsp;&nbsp;&nbsp;"+"</div>"),g+="</"+(a?"a":"div")+">",n.left=l,n.outerWidth=c-l,n.startCol=r,n.endCol=s+1;return g}function o(t,n){var i,a,o,r,s,l=t.length;for(i=0;l>i;i++)a=t[i],o=a.event,r=e(n[i]),s=b("eventRender",o,o,r),s===!1?r.remove():(s&&s!==!0&&(s=e(s).css({position:"absolute",left:a.left}),r.replaceWith(s),r=s),a.element=r)}function r(e){var t,n,i,a=e.length;for(t=0;a>t;t++)n=e[t],i=n.element,i&&C(n.event,i)}function s(e,t,n){var i,a,o,r,s=e.length;for(i=0;s>i;i++)a=e[i],o=a.element,o&&(r=a.event,r._id===n?H(r,o,a):o[0]._fci=i);I(t,e,H)}function c(e){var n,i,a,o,r,s=e.length,l={};for(n=0;s>n;n++)i=e[n],a=i.element,a&&(o=i.key=V(a[0]),r=l[o],r===t&&(r=l[o]=A(a,!0)),i.hsides=r)}function d(e){var t,n,i,a=e.length;for(t=0;a>t;t++)n=e[t],i=n.element,i&&(i[0].style.width=Math.max(0,n.outerWidth-n.hsides)+"px")}function u(e){var n,i,a,o,r,s=e.length,l={};for(n=0;s>n;n++)i=e[n],a=i.element,a&&(o=i.key,r=l[o],r===t&&(r=l[o]=P(a)),i.outerHeight=a[0].offsetHeight+r)}function h(){var e,t=$(),n=[];for(e=0;t>e;e++)n[e]=D(e).find("div.fc-day-content > div");return n}function f(e){var t,n=e.length,i=[];for(t=0;n>t;t++)i[t]=e[t][0].offsetTop;return i}function m(e,t){var n,i,a,o,r=e.length;for(n=0;r>n;n++)i=e[n],a=i.element,a&&(a[0].style.top=t[i.row]+(i.top||0)+"px",o=i.event,b("eventAfterRender",o,o,a))}function g(t,n,a){var o=y("isRTL"),r=o?"w":"e",s=n.find(".ui-resizable-"+r),c=!1;J(n),n.mousedown(function(e){e.preventDefault()}).click(function(e){c&&(e.preventDefault(),e.stopImmediatePropagation())}),s.mousedown(function(s){function d(n){b("eventResizeStop",this,t,n),e("body").css("cursor",""),f.stop(),W(),u&&T(this,t,u,0,n),setTimeout(function(){c=!1},0)}if(1==s.which){c=!0;var u,h,f=v.getHoverListener(),m=$(),g=E(),y=o?-1:1,w=o?g-1:0,_=n.css("top"),C=e.extend({},t),I=L(t.start);U(),e("body").css("cursor",r+"-resize").one("mouseup",d),b("eventResizeStart",this,t,s),f.start(function(e,n){if(e){var s=Math.max(I.row,e.row),c=e.col;1==m&&(s=0),s==I.row&&(c=o?Math.min(I.col,c):Math.max(I.col,c)),u=7*s+c*y+w-(7*n.row+n.col*y+w);var d=l(x(t),u,!0);if(u){C.end=d;var f=h;h=i(j([C]),a.row,_),h.find("*").css("cursor",r+"-resize"),f&&f.remove(),k(t)}else h&&(S(t),h.remove(),h=null);W(),z(t.start,l(p(d),1))}},s)}})}var v=this;v.renderDaySegs=n,v.resizableDayEvent=g;var y=v.opt,b=v.trigger,w=v.isEventDraggable,_=v.isEventResizable,x=v.eventEnd,C=v.reportEventElement,S=v.showEvents,k=v.hideEvents,T=v.eventResize,$=v.getRowCnt,E=v.getColCnt;v.getColWidth;var D=v.allDayRow,B=v.allDayBounds,F=v.colContentLeft,M=v.colContentRight,N=v.dayOfWeekCol,L=v.dateCell,j=v.compileDaySegs,O=v.getDaySegmentContainer,H=v.bindDaySeg,R=v.calendar.formatDates,z=v.renderDayOverlay,W=v.clearOverlays,U=v.clearSelection}function pt(){function t(e,t,a){n(),t||(t=l(e,a)),c(e,t,a),i(e,t,a)}function n(e){u&&(u=!1,d(),s("unselect",null,e))}function i(e,t,n,i){u=!0,s("select",null,e,t,n,i)}function a(t){var a=o.cellDate,s=o.cellIsAllDay,l=o.getHoverListener(),u=o.reportDayClick;if(1==t.which&&r("selectable")){n(t);var p;l.start(function(e,t){d(),e&&s(e)?(p=[a(t),a(e)].sort(z),c(p[0],p[1],!0)):p=null},t),e(document).one("mouseup",function(e){l.stop(),p&&(+p[0]==+p[1]&&u(p[0],!0,e),i(p[0],p[1],!0,e))})}}var o=this;o.select=t,o.unselect=n,o.reportSelection=i,o.daySelectionMousedown=a;var r=o.opt,s=o.trigger,l=o.defaultSelectionEnd,c=o.renderSelection,d=o.clearSelection,u=!1;r("selectable")&&r("unselectAuto")&&e(document).mousedown(function(t){var i=r("unselectCancel");i&&e(t.target).parents(i).length||n(t)})}function ht(){function t(t,n){var i=o.shift();return i||(i=e("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>")),i[0].parentNode!=n[0]&&i.appendTo(n),a.push(i.css(t).show()),i}function n(){for(var e;e=a.shift();)o.push(e.hide().unbind())}var i=this;i.renderOverlay=t,i.clearOverlays=n;var a=[],o=[]}function ft(e){var t,n,i=this;i.build=function(){t=[],n=[],e(t,n)},i.cell=function(e,i){var a,o=t.length,r=n.length,s=-1,l=-1;for(a=0;o>a;a++)if(i>=t[a][0]&&i<t[a][1]){s=a;break}for(a=0;r>a;a++)if(e>=n[a][0]&&e<n[a][1]){l=a;break}return s>=0&&l>=0?{row:s,col:l}:null},i.rect=function(e,i,a,o,r){var s=r.offset();return{top:t[e][0]-s.top,left:n[i][0]-s.left,width:n[o][1]-n[i][0],height:t[a][1]-t[e][0]}}}function mt(t){function n(e){gt(e);var n=t.cell(e.pageX,e.pageY);(!n!=!r||n&&(n.row!=r.row||n.col!=r.col))&&(n?(o||(o=n),a(n,o,n.row-o.row,n.col-o.col)):a(n,o),r=n)}var i,a,o,r,s=this;s.start=function(s,l,c){a=s,o=r=null,t.build(),n(l),i=c||"mousemove",e(document).bind(i,n)},s.stop=function(){return e(document).unbind(i,n),r}}function gt(e){e.pageX===t&&(e.pageX=e.originalEvent.pageX,e.pageY=e.originalEvent.pageY)}function vt(e){function n(t){return a[t]=a[t]||e(t)}var i=this,a={},o={},r={};i.left=function(e){return o[e]=o[e]===t?n(e).position().left:o[e]},i.right=function(e){return r[e]=r[e]===t?i.left(e)+n(e).width():r[e]},i.clear=function(){a={},o={},r={}}}var yt={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"iso",weekNumberTitle:"W",allDayDefault:!0,ignoreTimezone:!0,lazyFetching:!0,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:!1,firstDay:0,monthNames:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],dayNames:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],buttonText:{prev:"<span class='fc-text-arrow'>&lsaquo;</span>",next:"<span class='fc-text-arrow'>&rsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&laquo;</span>",nextYear:"<span class='fc-text-arrow'>&raquo;</span>",today:"hoje",month:"Mês",week:"Semana",day:"Dia"},theme:!1,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:!0,dropAccept:"*"},bt={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"<span class='fc-text-arrow'>&rsaquo;</span>",next:"<span class='fc-text-arrow'>&lsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&raquo;</span>",nextYear:"<span class='fc-text-arrow'>&laquo;</span>"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},wt=e.fullCalendar={version:"1.6.1"},_t=wt.views={};e.fn.fullCalendar=function(n){if("string"==typeof n){var a,o=Array.prototype.slice.call(arguments,1);return this.each(function(){var i=e.data(this,"fullCalendar");if(i&&e.isFunction(i[n])){var r=i[n].apply(i,o);a===t&&(a=r),"destroy"==n&&e.removeData(this,"fullCalendar")}}),a!==t?a:this}var r=n.eventSources||[];return delete n.eventSources,n.events&&(r.push(n.events),delete n.events),n=e.extend(!0,{},yt,n.isRTL||n.isRTL===t&&yt.isRTL?bt:{},n),this.each(function(t,a){var o=e(a),s=new i(o,n,r);o.data("fullCalendar",s),s.render()}),this},wt.sourceNormalizers=[],wt.sourceFetchers=[];var xt={dataType:"json",cache:!1},Ct=1;wt.addDays=l,wt.cloneDate=p,wt.parseDate=v,wt.parseISO8601=y,wt.parseTime=b,wt.formatDate=w,wt.formatDates=_;var St=["sun","mon","tue","wed","thu","fri","sat"],kt=864e5,Tt=36e5,$t=6e4,Et={s:function(e){return e.getSeconds()},ss:function(e){return W(e.getSeconds())},m:function(e){return e.getMinutes()},mm:function(e){return W(e.getMinutes())},h:function(e){return e.getHours()%12||12},hh:function(e){return W(e.getHours()%12||12)},H:function(e){return e.getHours()},HH:function(e){return W(e.getHours())},d:function(e){return e.getDate()},dd:function(e){return W(e.getDate())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},M:function(e){return e.getMonth()+1},MM:function(e){return W(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},yy:function(e){return(e.getFullYear()+"").substring(2)},yyyy:function(e){return e.getFullYear()},t:function(e){return e.getHours()<12?"a":"p"},tt:function(e){return e.getHours()<12?"am":"pm"},T:function(e){return e.getHours()<12?"A":"P"},TT:function(e){return e.getHours()<12?"AM":"PM"},u:function(e){return w(e,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(e){var t=e.getDate();return t>10&&20>t?"th":["st","nd","rd"][t%10-1]||"th"},w:function(e,t){return t.weekNumberCalculation(e)},W:function(e){return x(e)}};wt.dateFormatters=Et,wt.applyAll=K,_t.month=et,_t.basicWeek=tt,_t.basicDay=nt,n({weekMode:"fixed"}),_t.agendaWeek=ot,_t.agendaDay=rt,n({allDaySlot:!0,allDayText:"o dia todo",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:.5},minTime:0,maxTime:24})}(jQuery);